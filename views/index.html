<!DOCTYPE html>
<html lang = "ru">
	<head>
		<meta charset = "UTF-8">
		<title>Library</title>
		<script src = "http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<link rel = "stylesheet" href = "/stylesheets/mystyle.css"> 
		<!--<script type = "text/javascript" src = "/MyLibraryJS/script.js"></script>-->
		<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
		<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>-->
		<!--<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">-->
		<link href="http://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-beta.3/css/select2.min.css" rel="stylesheet" />
		<script src="http://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-beta.3/js/select2.min.js"></script>
		<!--<link href="https://raw.githubusercontent.com/t0m/select2-bootstrap-css/bootstrap3/select2-bootstrap.css" rel="stylesheet" />-->
		<script type = "text/javascript" src = "/javascripts/jquery-ui-1.11.4.custom/jquery-ui.js"></script>
		<script type = "text/javascript" src = "/javascripts/jquery-ui-1.11.4.custom/jquery-ui.min.js"></script>
		<!--<script type = "text/javascript" src = "/MyLibraryJS/script.js"></script>-->
		<link rel = "stylesheet" href = "/javascripts/jquery-ui-1.11.4.custom/jquery-ui.css">
        <!--<script type = "text/javascript" src = "/MyLibraryJS/bundle.js"></script>-->
	</head>
	<body>
		<h1>Библиотекарь</h1>
		
		<script type = "text/javascript">
			$(document).ready(function(){
				$(".select2").select2( { placeholder: "Select a books"} );
                $(".select2").select2({language: "ru"});
			});
  		</script>
		   
		<script type = "text/javascript">
			$(function(){
				$("#datepicker").datepicker();
			});
    	</script>
        <table>
            <tr>
                
                    <form  method = "post" accept-charset = "utf-8" id = "mainForm">
                        <td>
                            <div id = "booksDiv">
                                <select class = "select2" multiple = "multiple" id = "books" name = "books">
                                    <option></option>
                                    <optgroup label = "Густав Майринк">
                                        <option value = "Ангел западного окна">Ангел западного окна</option>
                                        <option value = "Голем">Голем</option>
                                        <option value = "Вальпургиева ночь">Вальпургиева ночь</option>
                                        <option value = "Зеленый лик">Зеленый лик</option>
                                        <option value = "Белый доминиканец">Белый доминиканец</option>
                                    </optgroup>
                                    <optgroup label = "Сат Ок">
                                        <option value = "Земля соленых скал">Земля соленых скал</option>
                                    </optgroup>
                                    <optgroup label = "Фридрих Ницше">
                                        <option value = "Антихрист">Антихрист</option>
                                        <option value = "Так говорил Заратустра">Так говорил Заратустра</option>
                                    </optgroup>
                                        <optgroup label = "Говард Лавкрафт">
                                        <option value = "Хребты безумия">Хребты безумия</option>
                                        <option value = "Вне времени">Вне времени</option>
                                        <option value = "Зов Ктулху">Зов Ктулху</option>
                                    </optgroup>
                                </select>			
                            </div>  
                        </td>
                        <td>
                            <div id = "userNameDiv">
                                <input type = "text" size = "30" placeholder = "Input your name" id = "userName"/>	
                            </div>
                        </td>
                        <td>
                            <div id = "datepickerDiv">
                                <input type = "text" id = "datepicker" placeholder = "Enter delivery date" />
                            </div>
                        </td>
                        <td>
                            <div id = "addDiv">
                                <input type = "submit" value = "Add new user" id = "add"/>
                            </div>
                        </td>
                    </form>
               <td> 
            <form>
                <div>
                    <input type = "submit" value = "Clean" id = "clean" onclick = "clean()"/>
                </div>
			</form>
                </td>
            </tr>
        </table>
        <script type = "text/javascript">
            $(function(){
                $("#mainForm").submit(function(){
                    var formData = {
                        books: $("#books").val(),
                        userName: $("#userName").val(),
                        datePipicker : JSON.stringify($("#datepicker").datepicker().val())
                        //datePipicker: "06/14/2016"
                        //datеPipicker: $("#datepicker").datepicker().val(),
                        //datePicker11: "fuck"
                    };
                    //alert(toString(formData));
                    $.ajax({
                        method: 'POST',
                        url: 'http://localhost:8080/setOrders',
                        data: formData,
                        /*success: function(msg){
                            //alert(JSON.stringify(formData));
                            //console.log(formData);
                            alert("receive data" + msg);
                        }*/
                    });
            return false;
                });
            });
        </script>
        
       <script type = "text/javascript">
            function clean(){
                var books = Element.getElementById("books");
                var name = Element.getElementById("userName");
                var date = Element.getElementById("datepicker");
                books = "";
                name = "";
                date = "";
            }
        </script>
      
   
        
	</body>
</html>